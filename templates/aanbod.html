{% extends "base.html" %}

{% block title %}Aanbod - Exclusive Cars Automotive{% endblock %}

{% block content %}
<section class="car-listing-section py-5">
  <div class="container">
    <div class="section-header">
      <h2>Ons <span class="text-danger">Aanbod</span></h2>
      <div class="underline"></div>
      <p>Ontdek onze zorgvuldig geselecteerde collectie premium voertuigen voor verhuur</p>
    </div>

    <div class="row g-4">
      {% for car in cars %}
      <div class="col-lg-4 col-md-6">
        <div class="car-card">
          <div class="car-card-img p-0">
            {% set has_images = (car.images is defined and car.images and car.images|length > 0) %}
            <img
              src="{{ url_for('static', filename=(car.images[0] if has_images else 'img/placeholder.png')) }}"
              alt="{{ car.name }}"
              style="width:100%;height:220px;object-fit:cover;"
            >
          </div>

          <div class="car-card-body">
            <h3 class="car-card-title">{{ car.name }}</h3>

            <div class="car-card-price">
              €{{ car.price_per_day }} <span class="text-muted" style="font-size:.9rem;font-weight:700;">/ dag</span>
            </div>

            <div class="car-card-details">
              <span><i class="bi bi-person"></i> {{ car.min_age }}+</span>
              <span><i class="bi bi-shield-lock"></i> Borg: €{{ car.deposit }}</span>
            </div>

            <div class="car-card-details">
              <span><i class="bi bi-speedometer"></i> {{ car.km_included }}</span>
              <span><i class="bi bi-geo-alt"></i> {{ car.location }}</span>
            </div>

            {% if car.description %}
              <p class="text-muted small mb-3">
                {{ car.description[:90] }}{% if car.description|length > 90 %}...{% endif %}
              </p>
            {% endif %}

            <a href="{{ url_for('car_detail', car_id=car.id) }}" class="btn btn-outline-danger w-100">
              <i class="bi bi-eye"></i> Bekijk
            </a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endblock %}
